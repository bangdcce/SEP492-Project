import { MigrationInterface, QueryRunner } from "typeorm";

export class UpdateDatabase1765604138461 implements MigrationInterface {
    name = 'UpdateDatabase1765604138461'

    public async up(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP CONSTRAINT "verification_documents_user_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP CONSTRAINT "verification_documents_verified_by_fkey"`);
        await queryRunner.query(`ALTER TABLE "wizard_options" DROP CONSTRAINT "wizard_options_question_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "wallets" DROP CONSTRAINT "wallets_user_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP CONSTRAINT "user_tokens_user_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "user_flags" DROP CONSTRAINT "user_flags_user_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP CONSTRAINT "trust_score_history_user_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactions" DROP CONSTRAINT "transactions_wallet_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "social_accounts" DROP CONSTRAINT "social_accounts_user_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP CONSTRAINT "tasks_assigned_to_fkey"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP CONSTRAINT "tasks_milestone_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP CONSTRAINT "tasks_project_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" DROP CONSTRAINT "saved_freelancers_client_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" DROP CONSTRAINT "saved_freelancers_freelancer_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP CONSTRAINT "reviews_project_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP CONSTRAINT "reviews_reviewer_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP CONSTRAINT "reviews_target_user_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP CONSTRAINT "projects_broker_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP CONSTRAINT "projects_client_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP CONSTRAINT "projects_freelancer_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP CONSTRAINT "projects_request_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP CONSTRAINT "project_request_proposals_broker_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP CONSTRAINT "project_request_proposals_freelancer_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP CONSTRAINT "project_request_proposals_request_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP CONSTRAINT "project_requests_broker_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP CONSTRAINT "project_requests_client_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" DROP CONSTRAINT "project_request_answers_option_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" DROP CONSTRAINT "project_request_answers_question_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" DROP CONSTRAINT "project_request_answers_request_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "profiles" DROP CONSTRAINT "profiles_user_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "platform_settings" DROP CONSTRAINT "platform_settings_updated_by_fkey"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" DROP CONSTRAINT "payout_requests_processed_by_fkey"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" DROP CONSTRAINT "payout_requests_wallet_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" DROP CONSTRAINT "digital_signatures_contract_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" DROP CONSTRAINT "digital_signatures_user_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP CONSTRAINT "notifications_user_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "documents" DROP CONSTRAINT "documents_project_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "documents" DROP CONSTRAINT "documents_uploader_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "contracts" DROP CONSTRAINT "contracts_created_by_fkey"`);
        await queryRunner.query(`ALTER TABLE "contracts" DROP CONSTRAINT "contracts_project_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP CONSTRAINT "auth_sessions_replaced_by_session_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP CONSTRAINT "auth_sessions_user_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP CONSTRAINT "audit_logs_actor_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP CONSTRAINT "milestones_project_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" DROP CONSTRAINT "milestone_payments_hold_transaction_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" DROP CONSTRAINT "milestone_payments_milestone_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" DROP CONSTRAINT "milestone_payments_release_transaction_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP CONSTRAINT "disputes_against_fkey"`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP CONSTRAINT "disputes_project_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP CONSTRAINT "disputes_raised_by_fkey"`);
        await queryRunner.query(`ALTER TABLE "project_category_map" DROP CONSTRAINT "project_category_map_category_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "project_category_map" DROP CONSTRAINT "project_category_map_project_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" DROP CONSTRAINT "saved_freelancers_client_id_freelancer_id_key"`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP CONSTRAINT "reviews_project_id_reviewer_id_target_user_id_key"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP CONSTRAINT "project_request_proposals_request_id_freelancer_id_key"`);
        await queryRunner.query(`ALTER TABLE "project_category_map" DROP CONSTRAINT "project_category_map_project_id_category_id_key"`);
        await queryRunner.query(`COMMENT ON TABLE "users" IS NULL`);
        await queryRunner.query(`COMMENT ON TABLE "user_tokens" IS NULL`);
        await queryRunner.query(`COMMENT ON TABLE "social_accounts" IS NULL`);
        await queryRunner.query(`COMMENT ON TABLE "saved_freelancers" IS NULL`);
        await queryRunner.query(`COMMENT ON TABLE "project_request_proposals" IS NULL`);
        await queryRunner.query(`COMMENT ON TABLE "project_requests" IS NULL`);
        await queryRunner.query(`COMMENT ON TABLE "profiles" IS NULL`);
        await queryRunner.query(`COMMENT ON TABLE "auth_sessions" IS NULL`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" DROP COLUMN "help_text"`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" DROP COLUMN "input_type"`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" DROP COLUMN "is_active"`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" DROP COLUMN "sort_order"`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP COLUMN "doc_type"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP COLUMN "document_url"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP COLUMN "submitted_at"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP COLUMN "verified_at"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP COLUMN "verified_by"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP COLUMN "reject_reason"`);
        await queryRunner.query(`ALTER TABLE "wizard_options" DROP COLUMN "question_id"`);
        await queryRunner.query(`ALTER TABLE "wizard_options" DROP COLUMN "sort_order"`);
        await queryRunner.query(`ALTER TABLE "wallets" DROP CONSTRAINT "wallets_user_id_key"`);
        await queryRunner.query(`ALTER TABLE "wallets" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "wallets" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "password_hash"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "full_name"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "phone_number"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "is_verified"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "current_trust_score"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "token_hash"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "max_uses"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "use_count"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "expires_at"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "used_at"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "created_ip"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "last_used_ip"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "last_used_user_agent"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "user_flags" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "user_flags" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP COLUMN "rating_score"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP COLUMN "behavior_score"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP COLUMN "dispute_score"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP COLUMN "verification_score"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP COLUMN "total_score"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP COLUMN "calculated_at"`);
        await queryRunner.query(`ALTER TABLE "transactions" DROP COLUMN "wallet_id"`);
        await queryRunner.query(`ALTER TABLE "transactions" DROP COLUMN "reference_type"`);
        await queryRunner.query(`ALTER TABLE "transactions" DROP COLUMN "reference_id"`);
        await queryRunner.query(`ALTER TABLE "transactions" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "social_accounts" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "social_accounts" DROP COLUMN "provider_id"`);
        await queryRunner.query(`ALTER TABLE "social_accounts" DROP COLUMN "avatar_url"`);
        await queryRunner.query(`ALTER TABLE "social_accounts" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP COLUMN "milestone_id"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP COLUMN "project_id"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP COLUMN "assigned_to"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP COLUMN "due_date"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP COLUMN "sort_order"`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" DROP COLUMN "client_id"`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" DROP COLUMN "freelancer_id"`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP COLUMN "project_id"`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP COLUMN "reviewer_id"`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP COLUMN "target_user_id"`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "project_categories" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "request_id"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "client_id"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "broker_id"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "freelancer_id"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "total_budget"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "pricing_model"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "start_date"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "end_date"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP COLUMN "request_id"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP COLUMN "freelancer_id"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP COLUMN "broker_id"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP COLUMN "proposed_budget"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP COLUMN "estimated_duration"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP COLUMN "cover_letter"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP COLUMN "client_id"`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP COLUMN "budget_range"`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP COLUMN "intended_timeline"`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP COLUMN "tech_preferences"`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP COLUMN "broker_id"`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" DROP COLUMN "request_id"`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" DROP COLUMN "question_id"`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" DROP COLUMN "option_id"`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" DROP COLUMN "value_text"`);
        await queryRunner.query(`ALTER TABLE "profiles" DROP CONSTRAINT "profiles_user_id_key"`);
        await queryRunner.query(`ALTER TABLE "profiles" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "profiles" DROP COLUMN "company_name"`);
        await queryRunner.query(`ALTER TABLE "profiles" DROP COLUMN "portfolio_links"`);
        await queryRunner.query(`ALTER TABLE "profiles" DROP COLUMN "bank_info"`);
        await queryRunner.query(`ALTER TABLE "platform_settings" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "platform_settings" DROP COLUMN "updated_by"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" DROP COLUMN "wallet_id"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" DROP COLUMN "requested_at"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" DROP COLUMN "processed_at"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" DROP COLUMN "processed_by"`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" DROP COLUMN "contract_id"`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" DROP COLUMN "signature_hash"`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" DROP COLUMN "ip_address"`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" DROP COLUMN "signed_at"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "is_read"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "read_at"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "related_type"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "related_id"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "documents" DROP COLUMN "project_id"`);
        await queryRunner.query(`ALTER TABLE "documents" DROP COLUMN "uploader_id"`);
        await queryRunner.query(`ALTER TABLE "documents" DROP COLUMN "file_url"`);
        await queryRunner.query(`ALTER TABLE "documents" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "contracts" DROP COLUMN "project_id"`);
        await queryRunner.query(`ALTER TABLE "contracts" DROP COLUMN "contract_url"`);
        await queryRunner.query(`ALTER TABLE "contracts" DROP COLUMN "terms_content"`);
        await queryRunner.query(`ALTER TABLE "contracts" DROP COLUMN "created_by"`);
        await queryRunner.query(`ALTER TABLE "contracts" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "refresh_token_hash"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "user_agent"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "ip_address"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "is_revoked"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "revoked_at"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "expires_at"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "last_used_at"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "replaced_by_session_id"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "valid_access_from"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "actor_id"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "entity_type"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "entity_id"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "before_data"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "after_data"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP COLUMN "project_id"`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP COLUMN "start_date"`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP COLUMN "due_date"`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP COLUMN "proof_of_work"`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP COLUMN "sort_order"`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" DROP COLUMN "milestone_id"`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" DROP COLUMN "hold_transaction_id"`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" DROP COLUMN "release_transaction_id"`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP COLUMN "project_id"`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP COLUMN "raised_by"`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP COLUMN "resolved_at"`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" ADD "helpText" text`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" ADD "inputType" character varying(50)`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" ADD "isActive" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" ADD "sortOrder" integer`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD "userId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD "docType" character varying(100)`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD "documentUrl" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD "submittedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD "verifiedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD "verifiedBy" uuid`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD "rejectReason" text`);
        await queryRunner.query(`ALTER TABLE "wizard_options" ADD "questionId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "wizard_options" ADD "sortOrder" integer`);
        await queryRunner.query(`ALTER TABLE "wallets" ADD "userId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "wallets" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "users" ADD "passwordHash" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "users" ADD "fullName" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD "phoneNumber" character varying(20)`);
        await queryRunner.query(`ALTER TABLE "users" ADD "isVerified" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "users" ADD "currentTrustScore" numeric(3,2) NOT NULL DEFAULT '5'`);
        await queryRunner.query(`ALTER TABLE "users" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "users" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "userId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "tokenHash" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "maxUses" integer NOT NULL DEFAULT '1'`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "useCount" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "expiresAt" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "usedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "createdIp" character varying`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "lastUsedIp" character varying`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "lastUsedUserAgent" character varying`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "user_flags" ADD "userId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_flags" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD "userId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD "ratingScore" numeric(3,2)`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD "behaviorScore" numeric(3,2)`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD "disputeScore" numeric(3,2)`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD "verificationScore" numeric(3,2)`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD "totalScore" numeric(3,2)`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD "calculatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "transactions" ADD "walletId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "transactions" ADD "referenceType" character varying`);
        await queryRunner.query(`ALTER TABLE "transactions" ADD "referenceId" character varying`);
        await queryRunner.query(`ALTER TABLE "transactions" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "social_accounts" ADD "userId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "social_accounts" ADD "providerId" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "social_accounts" ADD "avatarUrl" text`);
        await queryRunner.query(`ALTER TABLE "social_accounts" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD "milestoneId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD "projectId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD "assignedTo" uuid`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD "dueDate" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD "sortOrder" integer`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" ADD "clientId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" ADD "freelancerId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD "projectId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD "reviewerId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD "targetUserId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "project_categories" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "requestId" uuid`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "clientId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "brokerId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "freelancerId" uuid`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "totalBudget" numeric(15,2) NOT NULL`);
        await queryRunner.query(`CREATE TYPE "public"."projects_pricingmodel_enum" AS ENUM('FIXED_PRICE', 'TIME_MATERIALS')`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "pricingModel" "public"."projects_pricingmodel_enum"`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "startDate" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "endDate" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD "requestId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD "freelancerId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD "brokerId" uuid`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD "proposedBudget" numeric(15,2)`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD "estimatedDuration" character varying`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD "coverLetter" text`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD "clientId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD "budgetRange" character varying`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD "intendedTimeline" character varying`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD "techPreferences" character varying`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD "brokerId" uuid`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" ADD "requestId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" ADD "questionId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" ADD "optionId" uuid`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" ADD "valueText" text`);
        await queryRunner.query(`ALTER TABLE "profiles" ADD "userId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "profiles" ADD CONSTRAINT "UQ_315ecd98bd1a42dcf2ec4e2e985" UNIQUE ("userId")`);
        await queryRunner.query(`ALTER TABLE "profiles" ADD "companyName" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "profiles" ADD "portfolioLinks" jsonb`);
        await queryRunner.query(`ALTER TABLE "profiles" ADD "bankInfo" jsonb`);
        await queryRunner.query(`ALTER TABLE "platform_settings" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "platform_settings" ADD "updatedBy" uuid`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ADD "walletId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ADD "requestedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ADD "processedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ADD "processedBy" uuid`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" ADD "contractId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" ADD "userId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" ADD "signatureHash" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" ADD "ipAddress" character varying`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" ADD "signedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "userId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "isRead" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "readAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "relatedType" character varying`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "relatedId" character varying`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "documents" ADD "projectId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "documents" ADD "uploaderId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "documents" ADD "fileUrl" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "documents" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "contracts" ADD "projectId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "contracts" ADD "contractUrl" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "contracts" ADD "termsContent" text`);
        await queryRunner.query(`ALTER TABLE "contracts" ADD "createdBy" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "contracts" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "userId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "refreshTokenHash" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "userAgent" character varying`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "ipAddress" character varying`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "isRevoked" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "revokedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "expiresAt" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "lastUsedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "replacedBySessionId" uuid`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "validAccessFrom" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "actorId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "entityType" character varying(100) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "entityId" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "beforeData" jsonb`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "afterData" jsonb`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD "projectId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD "startDate" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD "dueDate" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD "proofOfWork" character varying`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD "sortOrder" integer`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" ADD "milestoneId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" ADD "holdTransactionId" uuid`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" ADD "releaseTransactionId" uuid`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD "projectId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD "raisedBy" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD "resolvedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "project_category_map" ADD CONSTRAINT "PK_20f09ce6ad412dfdf5adc394426" PRIMARY KEY ("project_id", "category_id")`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" DROP CONSTRAINT "wizard_questions_pkey"`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" ADD CONSTRAINT "PK_01980ba9ae3a226aa28c08b2007" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" DROP CONSTRAINT "wizard_questions_code_key"`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" DROP COLUMN "code"`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" ADD "code" character varying(100) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" ADD CONSTRAINT "UQ_fec5bf63c0e39ebf237b3bbc486" UNIQUE ("code")`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP CONSTRAINT "verification_documents_pkey"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD CONSTRAINT "PK_b4dc59d87f87ce5a1bb1d3fe0bf" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TYPE "public"."verification_status" RENAME TO "verification_status_old"`);
        await queryRunner.query(`CREATE TYPE "public"."verification_documents_status_enum" AS ENUM('PENDING', 'VERIFIED', 'REJECTED')`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ALTER COLUMN "status" TYPE "public"."verification_documents_status_enum" USING "status"::"text"::"public"."verification_documents_status_enum"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ALTER COLUMN "status" SET DEFAULT 'PENDING'`);
        await queryRunner.query(`DROP TYPE "public"."verification_status_old"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ALTER COLUMN "status" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "wizard_options" DROP CONSTRAINT "wizard_options_pkey"`);
        await queryRunner.query(`ALTER TABLE "wizard_options" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "wizard_options" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "wizard_options" ADD CONSTRAINT "PK_888ae1a4fab441bd429fcdc4452" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "wizard_options" DROP COLUMN "value"`);
        await queryRunner.query(`ALTER TABLE "wizard_options" ADD "value" character varying(100) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "wallets" DROP CONSTRAINT "wallets_pkey"`);
        await queryRunner.query(`ALTER TABLE "wallets" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "wallets" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "wallets" ADD CONSTRAINT "PK_8402e5df5a30a229380e83e4f7e" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "wallets" ALTER COLUMN "balance" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "wallets" DROP COLUMN "currency"`);
        await queryRunner.query(`ALTER TABLE "wallets" ADD "currency" character varying(10) NOT NULL DEFAULT 'VND'`);
        await queryRunner.query(`ALTER TABLE "users" DROP CONSTRAINT "users_pkey"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "users" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "users" ADD CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "users" DROP CONSTRAINT "users_email_key"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "email"`);
        await queryRunner.query(`ALTER TABLE "users" ADD "email" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD CONSTRAINT "UQ_97672ac88f789774dd47f7c8be3" UNIQUE ("email")`);
        await queryRunner.query(`ALTER TYPE "public"."user_role" RENAME TO "user_role_old"`);
        await queryRunner.query(`CREATE TYPE "public"."users_role_enum" AS ENUM('ADMIN', 'STAFF', 'BROKER', 'CLIENT', 'FREELANCER')`);
        await queryRunner.query(`ALTER TABLE "users" ALTER COLUMN "role" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."users_role_enum" USING "role"::"text"::"public"."users_role_enum"`);
        await queryRunner.query(`ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'CLIENT'`);
        await queryRunner.query(`DROP TYPE "public"."user_role_old"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP CONSTRAINT "user_tokens_pkey"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD CONSTRAINT "PK_63764db9d9aaa4af33e07b2f4bf" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TYPE "public"."user_token_type" RENAME TO "user_token_type_old"`);
        await queryRunner.query(`CREATE TYPE "public"."user_tokens_type_enum" AS ENUM('EMAIL_VERIFICATION', 'PASSWORD_RESET')`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ALTER COLUMN "type" TYPE "public"."user_tokens_type_enum" USING "type"::"text"::"public"."user_tokens_type_enum"`);
        await queryRunner.query(`DROP TYPE "public"."user_token_type_old"`);
        await queryRunner.query(`ALTER TYPE "public"."user_token_status" RENAME TO "user_token_status_old"`);
        await queryRunner.query(`CREATE TYPE "public"."user_tokens_status_enum" AS ENUM('PENDING', 'USED', 'REVOKED')`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ALTER COLUMN "status" TYPE "public"."user_tokens_status_enum" USING "status"::"text"::"public"."user_tokens_status_enum"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ALTER COLUMN "status" SET DEFAULT 'PENDING'`);
        await queryRunner.query(`DROP TYPE "public"."user_token_status_old"`);
        await queryRunner.query(`ALTER TABLE "user_flags" DROP CONSTRAINT "user_flags_pkey"`);
        await queryRunner.query(`ALTER TABLE "user_flags" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "user_flags" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "user_flags" ADD CONSTRAINT "PK_6de618449277fb758cd2f13c1e3" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "user_flags" DROP COLUMN "type"`);
        await queryRunner.query(`ALTER TABLE "user_flags" ADD "type" character varying(100) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_flags" ALTER COLUMN "severity" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_flags" ALTER COLUMN "severity" SET DEFAULT '1'`);
        await queryRunner.query(`ALTER TABLE "user_flags" ALTER COLUMN "description" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP CONSTRAINT "trust_score_history_pkey"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD CONSTRAINT "PK_fc2095d09415689b51678b46615" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "transactions" DROP CONSTRAINT "transactions_pkey"`);
        await queryRunner.query(`ALTER TABLE "transactions" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "transactions" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "transactions" ADD CONSTRAINT "PK_a219afd8dd77ed80f5a862f1db9" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TYPE "public"."transaction_type" RENAME TO "transaction_type_old"`);
        await queryRunner.query(`CREATE TYPE "public"."transactions_type_enum" AS ENUM('DEPOSIT', 'HOLD', 'RELEASE', 'REFUND', 'WITHDRAWAL')`);
        await queryRunner.query(`ALTER TABLE "transactions" ALTER COLUMN "type" TYPE "public"."transactions_type_enum" USING "type"::"text"::"public"."transactions_type_enum"`);
        await queryRunner.query(`DROP TYPE "public"."transaction_type_old"`);
        await queryRunner.query(`ALTER TYPE "public"."transaction_status" RENAME TO "transaction_status_old"`);
        await queryRunner.query(`CREATE TYPE "public"."transactions_status_enum" AS ENUM('PENDING', 'SUCCESS', 'FAILED', 'CANCELED')`);
        await queryRunner.query(`ALTER TABLE "transactions" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "transactions" ALTER COLUMN "status" TYPE "public"."transactions_status_enum" USING "status"::"text"::"public"."transactions_status_enum"`);
        await queryRunner.query(`ALTER TABLE "transactions" ALTER COLUMN "status" SET DEFAULT 'PENDING'`);
        await queryRunner.query(`DROP TYPE "public"."transaction_status_old"`);
        await queryRunner.query(`ALTER TABLE "transactions" ALTER COLUMN "status" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "social_accounts" DROP CONSTRAINT "social_accounts_pkey"`);
        await queryRunner.query(`ALTER TABLE "social_accounts" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "social_accounts" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "social_accounts" ADD CONSTRAINT "PK_e9e58d2d8e9fafa20af914d9750" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "social_accounts" DROP COLUMN "provider"`);
        await queryRunner.query(`ALTER TABLE "social_accounts" ADD "provider" character varying(50) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "social_accounts" DROP COLUMN "email"`);
        await queryRunner.query(`ALTER TABLE "social_accounts" ADD "email" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP CONSTRAINT "tasks_pkey"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD CONSTRAINT "PK_8d12ff38fcc62aaba2cab748772" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD "title" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TYPE "public"."task_status" RENAME TO "task_status_old"`);
        await queryRunner.query(`CREATE TYPE "public"."tasks_status_enum" AS ENUM('TODO', 'IN_PROGRESS', 'IN_REVIEW', 'REVISIONS_REQUIRED', 'BLOCKED', 'DONE')`);
        await queryRunner.query(`ALTER TABLE "tasks" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "tasks" ALTER COLUMN "status" TYPE "public"."tasks_status_enum" USING "status"::"text"::"public"."tasks_status_enum"`);
        await queryRunner.query(`ALTER TABLE "tasks" ALTER COLUMN "status" SET DEFAULT 'TODO'`);
        await queryRunner.query(`DROP TYPE "public"."task_status_old"`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" DROP CONSTRAINT "saved_freelancers_pkey"`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" ADD CONSTRAINT "PK_c0ad842aac86d1014650bed12c1" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP CONSTRAINT "reviews_pkey"`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD CONSTRAINT "PK_231ae565c273ee700b283f15c1d" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "reviews" ALTER COLUMN "rating" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "reviews" ALTER COLUMN "weight" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "reviews" ALTER COLUMN "weight" SET DEFAULT '1'`);
        await queryRunner.query(`ALTER TABLE "project_categories" DROP CONSTRAINT "project_categories_pkey"`);
        await queryRunner.query(`ALTER TABLE "project_categories" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "project_categories" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "project_categories" ADD CONSTRAINT "PK_03d7af35c2601369d030b3617bc" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "project_categories" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "project_categories" ADD "name" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "projects" DROP CONSTRAINT "projects_pkey"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "projects" ADD CONSTRAINT "PK_6271df0a7aed1d6c0691ce6ac50" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "title" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "projects" ALTER COLUMN "description" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "currency"`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "currency" character varying(10) NOT NULL DEFAULT 'VND'`);
        await queryRunner.query(`ALTER TYPE "public"."project_status" RENAME TO "project_status_old"`);
        await queryRunner.query(`CREATE TYPE "public"."projects_status_enum" AS ENUM('PLANNING', 'IN_PROGRESS', 'TESTING', 'COMPLETED', 'DISPUTED', 'CANCELED')`);
        await queryRunner.query(`ALTER TABLE "projects" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "projects" ALTER COLUMN "status" TYPE "public"."projects_status_enum" USING "status"::"text"::"public"."projects_status_enum"`);
        await queryRunner.query(`ALTER TABLE "projects" ALTER COLUMN "status" SET DEFAULT 'PLANNING'`);
        await queryRunner.query(`DROP TYPE "public"."project_status_old"`);
        await queryRunner.query(`ALTER TABLE "projects" ALTER COLUMN "status" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP CONSTRAINT "project_request_proposals_pkey"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD CONSTRAINT "PK_e3a1f06e8f77e967076bd9404a6" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ALTER COLUMN "status" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ALTER COLUMN "status" SET DEFAULT 'PENDING'`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP CONSTRAINT "project_requests_pkey"`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD CONSTRAINT "PK_823e3ef5750d70abfbb943ee4ff" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD "title" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_requests" ALTER COLUMN "description" SET NOT NULL`);
        await queryRunner.query(`ALTER TYPE "public"."request_status" RENAME TO "request_status_old"`);
        await queryRunner.query(`CREATE TYPE "public"."project_requests_status_enum" AS ENUM('PENDING', 'PROCESSING', 'APPROVED', 'REJECTED', 'CANCELED')`);
        await queryRunner.query(`ALTER TABLE "project_requests" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "project_requests" ALTER COLUMN "status" TYPE "public"."project_requests_status_enum" USING "status"::"text"::"public"."project_requests_status_enum"`);
        await queryRunner.query(`ALTER TABLE "project_requests" ALTER COLUMN "status" SET DEFAULT 'PENDING'`);
        await queryRunner.query(`DROP TYPE "public"."request_status_old"`);
        await queryRunner.query(`ALTER TABLE "project_requests" ALTER COLUMN "status" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" DROP CONSTRAINT "project_request_answers_pkey"`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" ADD CONSTRAINT "PK_ae029739fd856296276f8cbab69" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "profiles" DROP CONSTRAINT "profiles_pkey"`);
        await queryRunner.query(`ALTER TABLE "profiles" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "profiles" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "profiles" ADD CONSTRAINT "PK_8e520eb4da7dc01d0e190447c8e" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "platform_settings" ALTER COLUMN "value" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "payout_requests" DROP CONSTRAINT "payout_requests_pkey"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ADD CONSTRAINT "PK_3a6acb302f56ad7dadda35c86b8" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TYPE "public"."payout_status" RENAME TO "payout_status_old"`);
        await queryRunner.query(`CREATE TYPE "public"."payout_requests_status_enum" AS ENUM('PENDING', 'PROCESSING', 'COMPLETED', 'REJECTED')`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ALTER COLUMN "status" TYPE "public"."payout_requests_status_enum" USING "status"::"text"::"public"."payout_requests_status_enum"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ALTER COLUMN "status" SET DEFAULT 'PENDING'`);
        await queryRunner.query(`DROP TYPE "public"."payout_status_old"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ALTER COLUMN "status" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" DROP CONSTRAINT "digital_signatures_pkey"`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" ADD CONSTRAINT "PK_11dff7aef9846ed49b2134b0869" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP CONSTRAINT "notifications_pkey"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD CONSTRAINT "PK_6a72c3c0f683f6462415e653c3a" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "title" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "notifications" ALTER COLUMN "body" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "documents" DROP CONSTRAINT "documents_pkey"`);
        await queryRunner.query(`ALTER TABLE "documents" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "documents" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "documents" ADD CONSTRAINT "PK_ac51aa5181ee2036f5ca482857c" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "documents" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "documents" ADD "name" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TYPE "public"."doc_type" RENAME TO "doc_type_old"`);
        await queryRunner.query(`CREATE TYPE "public"."documents_type_enum" AS ENUM('SRS', 'SDS', 'MOCKUP', 'REPORT', 'OTHER')`);
        await queryRunner.query(`ALTER TABLE "documents" ALTER COLUMN "type" TYPE "public"."documents_type_enum" USING "type"::"text"::"public"."documents_type_enum"`);
        await queryRunner.query(`DROP TYPE "public"."doc_type_old"`);
        await queryRunner.query(`ALTER TABLE "documents" ALTER COLUMN "version" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "contracts" DROP CONSTRAINT "contracts_pkey"`);
        await queryRunner.query(`ALTER TABLE "contracts" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "contracts" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "contracts" ADD CONSTRAINT "PK_2c7b8f3a7b1acdd49497d83d0fb" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "contracts" ALTER COLUMN "status" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "contracts" ALTER COLUMN "status" SET DEFAULT 'DRAFT'`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP CONSTRAINT "auth_sessions_pkey"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD CONSTRAINT "PK_641507381f32580e8479efc36cd" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP CONSTRAINT "audit_logs_pkey"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD CONSTRAINT "PK_1bb179d048bbc581caa3b013439" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "action"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "action" character varying(100) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP CONSTRAINT "milestones_pkey"`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD CONSTRAINT "PK_0bdbfe399c777a6a8520ff902d9" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD "title" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "milestones" ALTER COLUMN "amount" SET NOT NULL`);
        await queryRunner.query(`ALTER TYPE "public"."milestone_status" RENAME TO "milestone_status_old"`);
        await queryRunner.query(`CREATE TYPE "public"."milestones_status_enum" AS ENUM('PENDING', 'IN_PROGRESS', 'LOCKED', 'COMPLETED', 'PAID')`);
        await queryRunner.query(`ALTER TABLE "milestones" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "milestones" ALTER COLUMN "status" TYPE "public"."milestones_status_enum" USING "status"::"text"::"public"."milestones_status_enum"`);
        await queryRunner.query(`ALTER TABLE "milestones" ALTER COLUMN "status" SET DEFAULT 'PENDING'`);
        await queryRunner.query(`DROP TYPE "public"."milestone_status_old"`);
        await queryRunner.query(`ALTER TABLE "milestones" ALTER COLUMN "status" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" DROP CONSTRAINT "milestone_payments_pkey"`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" ADD CONSTRAINT "PK_421444a538d4babff59b8921a60" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP CONSTRAINT "disputes_pkey"`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD CONSTRAINT "PK_3c97580d01c1a4b0b345c42a107" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP COLUMN "against"`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD "against" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "disputes" ALTER COLUMN "reason" SET NOT NULL`);
        await queryRunner.query(`ALTER TYPE "public"."dispute_status" RENAME TO "dispute_status_old"`);
        await queryRunner.query(`CREATE TYPE "public"."disputes_status_enum" AS ENUM('OPEN', 'IN_REVIEW', 'RESOLVED', 'REJECTED')`);
        await queryRunner.query(`ALTER TABLE "disputes" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "disputes" ALTER COLUMN "status" TYPE "public"."disputes_status_enum" USING "status"::"text"::"public"."disputes_status_enum"`);
        await queryRunner.query(`ALTER TABLE "disputes" ALTER COLUMN "status" SET DEFAULT 'OPEN'`);
        await queryRunner.query(`DROP TYPE "public"."dispute_status_old"`);
        await queryRunner.query(`ALTER TABLE "disputes" ALTER COLUMN "status" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_category_map" DROP CONSTRAINT "PK_20f09ce6ad412dfdf5adc394426"`);
        await queryRunner.query(`ALTER TABLE "project_category_map" ADD CONSTRAINT "PK_02daa0e833626078f4b5c608ef7" PRIMARY KEY ("category_id")`);
        await queryRunner.query(`ALTER TABLE "project_category_map" DROP COLUMN "project_id"`);
        await queryRunner.query(`ALTER TABLE "project_category_map" ADD "project_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_category_map" DROP CONSTRAINT "PK_02daa0e833626078f4b5c608ef7"`);
        await queryRunner.query(`ALTER TABLE "project_category_map" ADD CONSTRAINT "PK_20f09ce6ad412dfdf5adc394426" PRIMARY KEY ("category_id", "project_id")`);
        await queryRunner.query(`ALTER TABLE "project_category_map" DROP CONSTRAINT "PK_20f09ce6ad412dfdf5adc394426"`);
        await queryRunner.query(`ALTER TABLE "project_category_map" ADD CONSTRAINT "PK_63d1dc4e442a80233613bc0d154" PRIMARY KEY ("project_id")`);
        await queryRunner.query(`ALTER TABLE "project_category_map" DROP COLUMN "category_id"`);
        await queryRunner.query(`ALTER TABLE "project_category_map" ADD "category_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_category_map" DROP CONSTRAINT "PK_63d1dc4e442a80233613bc0d154"`);
        await queryRunner.query(`ALTER TABLE "project_category_map" ADD CONSTRAINT "PK_20f09ce6ad412dfdf5adc394426" PRIMARY KEY ("project_id", "category_id")`);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_2ecdb33f23e9a6fc392025c0b9" ON "wallets" ("userId") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_f1d523469df6ac4e853b4bf531" ON "saved_freelancers" ("clientId", "freelancerId") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_85132512bfb49b6441a05ffa0d" ON "reviews" ("projectId", "reviewerId", "targetUserId") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_cac20fd0c92979420b2ae94d9b" ON "project_request_proposals" ("requestId", "freelancerId") `);
        await queryRunner.query(`CREATE INDEX "IDX_63d1dc4e442a80233613bc0d15" ON "project_category_map" ("project_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_02daa0e833626078f4b5c608ef" ON "project_category_map" ("category_id") `);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD CONSTRAINT "FK_e3acb36093f2773ea7893b4c972" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD CONSTRAINT "FK_fc6a9c92a9cc696671c2561b73e" FOREIGN KEY ("verifiedBy") REFERENCES "users"("id") ON DELETE SET NULL ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "wizard_options" ADD CONSTRAINT "FK_aea0cfcb26193490328e6f14102" FOREIGN KEY ("questionId") REFERENCES "wizard_questions"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "wallets" ADD CONSTRAINT "FK_2ecdb33f23e9a6fc392025c0b97" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD CONSTRAINT "FK_92ce9a299624e4c4ffd99b645b6" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "user_flags" ADD CONSTRAINT "FK_87be2c376b9c867c1e12916c2af" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD CONSTRAINT "FK_6d46e08df04dfeb9f4311df2378" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactions" ADD CONSTRAINT "FK_a88f466d39796d3081cf96e1b66" FOREIGN KEY ("walletId") REFERENCES "wallets"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "social_accounts" ADD CONSTRAINT "FK_7de933c3670ec71c68aca0afd56" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD CONSTRAINT "FK_6dc5020fc4c6814347816455e7a" FOREIGN KEY ("milestoneId") REFERENCES "milestones"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD CONSTRAINT "FK_e08fca67ca8966e6b9914bf2956" FOREIGN KEY ("projectId") REFERENCES "projects"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD CONSTRAINT "FK_3b34ce2db713f0be359768db816" FOREIGN KEY ("assignedTo") REFERENCES "users"("id") ON DELETE SET NULL ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" ADD CONSTRAINT "FK_66a3a09dc240f9edd007d8294b1" FOREIGN KEY ("clientId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" ADD CONSTRAINT "FK_32d1522472855a34af369949ad9" FOREIGN KEY ("freelancerId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD CONSTRAINT "FK_ee90086bb783380da5453d240b9" FOREIGN KEY ("projectId") REFERENCES "projects"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD CONSTRAINT "FK_f9238c3e3739dc40322f577fc46" FOREIGN KEY ("reviewerId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD CONSTRAINT "FK_299e0ce9838de08dea4eac93e28" FOREIGN KEY ("targetUserId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "projects" ADD CONSTRAINT "FK_026902dba3d3ceefa3817500674" FOREIGN KEY ("requestId") REFERENCES "project_requests"("id") ON DELETE SET NULL ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "projects" ADD CONSTRAINT "FK_091f9433895a53408cb8ae3864f" FOREIGN KEY ("clientId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "projects" ADD CONSTRAINT "FK_8c56501d961c9f7b440abdce5d5" FOREIGN KEY ("brokerId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "projects" ADD CONSTRAINT "FK_22f434063fa3502539bab88858d" FOREIGN KEY ("freelancerId") REFERENCES "users"("id") ON DELETE SET NULL ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD CONSTRAINT "FK_a3e8fc57db73e22a5128c22e6c7" FOREIGN KEY ("requestId") REFERENCES "project_requests"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD CONSTRAINT "FK_3a404d4e7ec6b5db69aa875cbf8" FOREIGN KEY ("freelancerId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD CONSTRAINT "FK_36541dd025948b388251c3c01f4" FOREIGN KEY ("brokerId") REFERENCES "users"("id") ON DELETE SET NULL ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD CONSTRAINT "FK_e207c2a029bb73b35ad1453426a" FOREIGN KEY ("clientId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD CONSTRAINT "FK_ba91413ed0daddd79814a09ef4d" FOREIGN KEY ("brokerId") REFERENCES "users"("id") ON DELETE SET NULL ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" ADD CONSTRAINT "FK_f80351df95d44f963e86f1c8d92" FOREIGN KEY ("requestId") REFERENCES "project_requests"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" ADD CONSTRAINT "FK_bd1b708124a60b84cddb67a9fef" FOREIGN KEY ("questionId") REFERENCES "wizard_questions"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" ADD CONSTRAINT "FK_9e7d84f4f6c8c98fa0b733c5d5e" FOREIGN KEY ("optionId") REFERENCES "wizard_options"("id") ON DELETE SET NULL ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "profiles" ADD CONSTRAINT "FK_315ecd98bd1a42dcf2ec4e2e985" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "platform_settings" ADD CONSTRAINT "FK_bf32a1bcd51436a0b202a00a834" FOREIGN KEY ("updatedBy") REFERENCES "users"("id") ON DELETE SET NULL ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ADD CONSTRAINT "FK_7ecca99cfa68cbb2bfade96cd05" FOREIGN KEY ("walletId") REFERENCES "wallets"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ADD CONSTRAINT "FK_2efebf9c50eb838dd24d5816cc5" FOREIGN KEY ("processedBy") REFERENCES "users"("id") ON DELETE SET NULL ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" ADD CONSTRAINT "FK_272d16a5c66344d957a1efecb25" FOREIGN KEY ("contractId") REFERENCES "contracts"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" ADD CONSTRAINT "FK_fda9661a44dca0e61b72fb4680a" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE RESTRICT ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD CONSTRAINT "FK_692a909ee0fa9383e7859f9b406" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "documents" ADD CONSTRAINT "FK_fe6ebd6e679c0feee3a7ecc0354" FOREIGN KEY ("projectId") REFERENCES "projects"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "documents" ADD CONSTRAINT "FK_befd700a02312da4cc725ccaace" FOREIGN KEY ("uploaderId") REFERENCES "users"("id") ON DELETE RESTRICT ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "contracts" ADD CONSTRAINT "FK_2421e3588c8e452a325ca49b70f" FOREIGN KEY ("projectId") REFERENCES "projects"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "contracts" ADD CONSTRAINT "FK_754103da22018eef9a0ee6f21e5" FOREIGN KEY ("createdBy") REFERENCES "users"("id") ON DELETE RESTRICT ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD CONSTRAINT "FK_925b24d7fc2f9324ce972aee025" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD CONSTRAINT "FK_6e11140db54eefb6f4991a40df0" FOREIGN KEY ("replacedBySessionId") REFERENCES "auth_sessions"("id") ON DELETE SET NULL ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD CONSTRAINT "FK_2dc33f7f3c22e2e7badafca1d12" FOREIGN KEY ("actorId") REFERENCES "users"("id") ON DELETE RESTRICT ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD CONSTRAINT "FK_662a1f9d865fe49768fa369fd0f" FOREIGN KEY ("projectId") REFERENCES "projects"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" ADD CONSTRAINT "FK_820aa06a348b448f9b6a8c52ad5" FOREIGN KEY ("milestoneId") REFERENCES "milestones"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" ADD CONSTRAINT "FK_78f7c3195dff24da67bb49b29d5" FOREIGN KEY ("holdTransactionId") REFERENCES "transactions"("id") ON DELETE SET NULL ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" ADD CONSTRAINT "FK_372e96a14c5f890c42b0d6e58e0" FOREIGN KEY ("releaseTransactionId") REFERENCES "transactions"("id") ON DELETE SET NULL ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD CONSTRAINT "FK_9a4ad337edc45133e24c8bcaf4d" FOREIGN KEY ("projectId") REFERENCES "projects"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD CONSTRAINT "FK_5a6f52453994f5b71258623f811" FOREIGN KEY ("raisedBy") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD CONSTRAINT "FK_59a083d59f0249a8af3346c07fa" FOREIGN KEY ("against") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "project_category_map" ADD CONSTRAINT "FK_63d1dc4e442a80233613bc0d154" FOREIGN KEY ("project_id") REFERENCES "projects"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "project_category_map" ADD CONSTRAINT "FK_02daa0e833626078f4b5c608ef7" FOREIGN KEY ("category_id") REFERENCES "project_categories"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
    }

    public async down(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "project_category_map" DROP CONSTRAINT "FK_02daa0e833626078f4b5c608ef7"`);
        await queryRunner.query(`ALTER TABLE "project_category_map" DROP CONSTRAINT "FK_63d1dc4e442a80233613bc0d154"`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP CONSTRAINT "FK_59a083d59f0249a8af3346c07fa"`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP CONSTRAINT "FK_5a6f52453994f5b71258623f811"`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP CONSTRAINT "FK_9a4ad337edc45133e24c8bcaf4d"`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" DROP CONSTRAINT "FK_372e96a14c5f890c42b0d6e58e0"`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" DROP CONSTRAINT "FK_78f7c3195dff24da67bb49b29d5"`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" DROP CONSTRAINT "FK_820aa06a348b448f9b6a8c52ad5"`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP CONSTRAINT "FK_662a1f9d865fe49768fa369fd0f"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP CONSTRAINT "FK_2dc33f7f3c22e2e7badafca1d12"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP CONSTRAINT "FK_6e11140db54eefb6f4991a40df0"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP CONSTRAINT "FK_925b24d7fc2f9324ce972aee025"`);
        await queryRunner.query(`ALTER TABLE "contracts" DROP CONSTRAINT "FK_754103da22018eef9a0ee6f21e5"`);
        await queryRunner.query(`ALTER TABLE "contracts" DROP CONSTRAINT "FK_2421e3588c8e452a325ca49b70f"`);
        await queryRunner.query(`ALTER TABLE "documents" DROP CONSTRAINT "FK_befd700a02312da4cc725ccaace"`);
        await queryRunner.query(`ALTER TABLE "documents" DROP CONSTRAINT "FK_fe6ebd6e679c0feee3a7ecc0354"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP CONSTRAINT "FK_692a909ee0fa9383e7859f9b406"`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" DROP CONSTRAINT "FK_fda9661a44dca0e61b72fb4680a"`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" DROP CONSTRAINT "FK_272d16a5c66344d957a1efecb25"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" DROP CONSTRAINT "FK_2efebf9c50eb838dd24d5816cc5"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" DROP CONSTRAINT "FK_7ecca99cfa68cbb2bfade96cd05"`);
        await queryRunner.query(`ALTER TABLE "platform_settings" DROP CONSTRAINT "FK_bf32a1bcd51436a0b202a00a834"`);
        await queryRunner.query(`ALTER TABLE "profiles" DROP CONSTRAINT "FK_315ecd98bd1a42dcf2ec4e2e985"`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" DROP CONSTRAINT "FK_9e7d84f4f6c8c98fa0b733c5d5e"`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" DROP CONSTRAINT "FK_bd1b708124a60b84cddb67a9fef"`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" DROP CONSTRAINT "FK_f80351df95d44f963e86f1c8d92"`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP CONSTRAINT "FK_ba91413ed0daddd79814a09ef4d"`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP CONSTRAINT "FK_e207c2a029bb73b35ad1453426a"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP CONSTRAINT "FK_36541dd025948b388251c3c01f4"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP CONSTRAINT "FK_3a404d4e7ec6b5db69aa875cbf8"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP CONSTRAINT "FK_a3e8fc57db73e22a5128c22e6c7"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP CONSTRAINT "FK_22f434063fa3502539bab88858d"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP CONSTRAINT "FK_8c56501d961c9f7b440abdce5d5"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP CONSTRAINT "FK_091f9433895a53408cb8ae3864f"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP CONSTRAINT "FK_026902dba3d3ceefa3817500674"`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP CONSTRAINT "FK_299e0ce9838de08dea4eac93e28"`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP CONSTRAINT "FK_f9238c3e3739dc40322f577fc46"`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP CONSTRAINT "FK_ee90086bb783380da5453d240b9"`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" DROP CONSTRAINT "FK_32d1522472855a34af369949ad9"`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" DROP CONSTRAINT "FK_66a3a09dc240f9edd007d8294b1"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP CONSTRAINT "FK_3b34ce2db713f0be359768db816"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP CONSTRAINT "FK_e08fca67ca8966e6b9914bf2956"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP CONSTRAINT "FK_6dc5020fc4c6814347816455e7a"`);
        await queryRunner.query(`ALTER TABLE "social_accounts" DROP CONSTRAINT "FK_7de933c3670ec71c68aca0afd56"`);
        await queryRunner.query(`ALTER TABLE "transactions" DROP CONSTRAINT "FK_a88f466d39796d3081cf96e1b66"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP CONSTRAINT "FK_6d46e08df04dfeb9f4311df2378"`);
        await queryRunner.query(`ALTER TABLE "user_flags" DROP CONSTRAINT "FK_87be2c376b9c867c1e12916c2af"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP CONSTRAINT "FK_92ce9a299624e4c4ffd99b645b6"`);
        await queryRunner.query(`ALTER TABLE "wallets" DROP CONSTRAINT "FK_2ecdb33f23e9a6fc392025c0b97"`);
        await queryRunner.query(`ALTER TABLE "wizard_options" DROP CONSTRAINT "FK_aea0cfcb26193490328e6f14102"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP CONSTRAINT "FK_fc6a9c92a9cc696671c2561b73e"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP CONSTRAINT "FK_e3acb36093f2773ea7893b4c972"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_02daa0e833626078f4b5c608ef"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_63d1dc4e442a80233613bc0d15"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_cac20fd0c92979420b2ae94d9b"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_85132512bfb49b6441a05ffa0d"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_f1d523469df6ac4e853b4bf531"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_2ecdb33f23e9a6fc392025c0b9"`);
        await queryRunner.query(`ALTER TABLE "project_category_map" DROP CONSTRAINT "PK_20f09ce6ad412dfdf5adc394426"`);
        await queryRunner.query(`ALTER TABLE "project_category_map" ADD CONSTRAINT "PK_63d1dc4e442a80233613bc0d154" PRIMARY KEY ("project_id")`);
        await queryRunner.query(`ALTER TABLE "project_category_map" DROP COLUMN "category_id"`);
        await queryRunner.query(`ALTER TABLE "project_category_map" ADD "category_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_category_map" DROP CONSTRAINT "PK_63d1dc4e442a80233613bc0d154"`);
        await queryRunner.query(`ALTER TABLE "project_category_map" ADD CONSTRAINT "PK_20f09ce6ad412dfdf5adc394426" PRIMARY KEY ("category_id", "project_id")`);
        await queryRunner.query(`ALTER TABLE "project_category_map" DROP CONSTRAINT "PK_20f09ce6ad412dfdf5adc394426"`);
        await queryRunner.query(`ALTER TABLE "project_category_map" ADD CONSTRAINT "PK_02daa0e833626078f4b5c608ef7" PRIMARY KEY ("category_id")`);
        await queryRunner.query(`ALTER TABLE "project_category_map" DROP COLUMN "project_id"`);
        await queryRunner.query(`ALTER TABLE "project_category_map" ADD "project_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_category_map" DROP CONSTRAINT "PK_02daa0e833626078f4b5c608ef7"`);
        await queryRunner.query(`ALTER TABLE "project_category_map" ADD CONSTRAINT "PK_20f09ce6ad412dfdf5adc394426" PRIMARY KEY ("project_id", "category_id")`);
        await queryRunner.query(`ALTER TABLE "disputes" ALTER COLUMN "status" DROP NOT NULL`);
        await queryRunner.query(`CREATE TYPE "public"."dispute_status_old" AS ENUM('OPEN', 'IN_REVIEW', 'RESOLVED', 'REJECTED')`);
        await queryRunner.query(`ALTER TABLE "disputes" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "disputes" ALTER COLUMN "status" TYPE "public"."dispute_status_old" USING "status"::"text"::"public"."dispute_status_old"`);
        await queryRunner.query(`ALTER TABLE "disputes" ALTER COLUMN "status" SET DEFAULT 'OPEN'`);
        await queryRunner.query(`DROP TYPE "public"."disputes_status_enum"`);
        await queryRunner.query(`ALTER TYPE "public"."dispute_status_old" RENAME TO "dispute_status"`);
        await queryRunner.query(`ALTER TABLE "disputes" ALTER COLUMN "reason" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP COLUMN "against"`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD "against" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP CONSTRAINT "PK_3c97580d01c1a4b0b345c42a107"`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD CONSTRAINT "disputes_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" DROP CONSTRAINT "PK_421444a538d4babff59b8921a60"`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" ADD CONSTRAINT "milestone_payments_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "milestones" ALTER COLUMN "status" DROP NOT NULL`);
        await queryRunner.query(`CREATE TYPE "public"."milestone_status_old" AS ENUM('PENDING', 'IN_PROGRESS', 'LOCKED', 'COMPLETED', 'PAID')`);
        await queryRunner.query(`ALTER TABLE "milestones" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "milestones" ALTER COLUMN "status" TYPE "public"."milestone_status_old" USING "status"::"text"::"public"."milestone_status_old"`);
        await queryRunner.query(`ALTER TABLE "milestones" ALTER COLUMN "status" SET DEFAULT 'PENDING'`);
        await queryRunner.query(`DROP TYPE "public"."milestones_status_enum"`);
        await queryRunner.query(`ALTER TYPE "public"."milestone_status_old" RENAME TO "milestone_status"`);
        await queryRunner.query(`ALTER TABLE "milestones" ALTER COLUMN "amount" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD "title" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP CONSTRAINT "PK_0bdbfe399c777a6a8520ff902d9"`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD CONSTRAINT "milestones_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "action"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "action" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP CONSTRAINT "PK_1bb179d048bbc581caa3b013439"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD CONSTRAINT "audit_logs_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP CONSTRAINT "PK_641507381f32580e8479efc36cd"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD CONSTRAINT "auth_sessions_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "contracts" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "contracts" ALTER COLUMN "status" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "contracts" DROP CONSTRAINT "PK_2c7b8f3a7b1acdd49497d83d0fb"`);
        await queryRunner.query(`ALTER TABLE "contracts" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "contracts" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "contracts" ADD CONSTRAINT "contracts_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "documents" ALTER COLUMN "version" DROP NOT NULL`);
        await queryRunner.query(`CREATE TYPE "public"."doc_type_old" AS ENUM('SRS', 'SDS', 'MOCKUP', 'REPORT', 'OTHER')`);
        await queryRunner.query(`ALTER TABLE "documents" ALTER COLUMN "type" TYPE "public"."doc_type_old" USING "type"::"text"::"public"."doc_type_old"`);
        await queryRunner.query(`DROP TYPE "public"."documents_type_enum"`);
        await queryRunner.query(`ALTER TYPE "public"."doc_type_old" RENAME TO "doc_type"`);
        await queryRunner.query(`ALTER TABLE "documents" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "documents" ADD "name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "documents" DROP CONSTRAINT "PK_ac51aa5181ee2036f5ca482857c"`);
        await queryRunner.query(`ALTER TABLE "documents" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "documents" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "documents" ADD CONSTRAINT "documents_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "notifications" ALTER COLUMN "body" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "title" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP CONSTRAINT "PK_6a72c3c0f683f6462415e653c3a"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD CONSTRAINT "notifications_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" DROP CONSTRAINT "PK_11dff7aef9846ed49b2134b0869"`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" ADD CONSTRAINT "digital_signatures_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ALTER COLUMN "status" DROP NOT NULL`);
        await queryRunner.query(`CREATE TYPE "public"."payout_status_old" AS ENUM('PENDING', 'PROCESSING', 'COMPLETED', 'REJECTED')`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ALTER COLUMN "status" TYPE "public"."payout_status_old" USING "status"::"text"::"public"."payout_status_old"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ALTER COLUMN "status" SET DEFAULT 'PENDING'`);
        await queryRunner.query(`DROP TYPE "public"."payout_requests_status_enum"`);
        await queryRunner.query(`ALTER TYPE "public"."payout_status_old" RENAME TO "payout_status"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" DROP CONSTRAINT "PK_3a6acb302f56ad7dadda35c86b8"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ADD CONSTRAINT "payout_requests_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "platform_settings" ALTER COLUMN "value" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "profiles" DROP CONSTRAINT "PK_8e520eb4da7dc01d0e190447c8e"`);
        await queryRunner.query(`ALTER TABLE "profiles" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "profiles" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "profiles" ADD CONSTRAINT "profiles_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" DROP CONSTRAINT "PK_ae029739fd856296276f8cbab69"`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" ADD CONSTRAINT "project_request_answers_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "project_requests" ALTER COLUMN "status" DROP NOT NULL`);
        await queryRunner.query(`CREATE TYPE "public"."request_status_old" AS ENUM('PENDING', 'PROCESSING', 'APPROVED', 'REJECTED', 'CANCELED')`);
        await queryRunner.query(`ALTER TABLE "project_requests" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "project_requests" ALTER COLUMN "status" TYPE "public"."request_status_old" USING "status"::"text"::"public"."request_status_old"`);
        await queryRunner.query(`ALTER TABLE "project_requests" ALTER COLUMN "status" SET DEFAULT 'PENDING'`);
        await queryRunner.query(`DROP TYPE "public"."project_requests_status_enum"`);
        await queryRunner.query(`ALTER TYPE "public"."request_status_old" RENAME TO "request_status"`);
        await queryRunner.query(`ALTER TABLE "project_requests" ALTER COLUMN "description" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD "title" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP CONSTRAINT "PK_823e3ef5750d70abfbb943ee4ff"`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD CONSTRAINT "project_requests_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ALTER COLUMN "status" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP CONSTRAINT "PK_e3a1f06e8f77e967076bd9404a6"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD CONSTRAINT "project_request_proposals_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "projects" ALTER COLUMN "status" DROP NOT NULL`);
        await queryRunner.query(`CREATE TYPE "public"."project_status_old" AS ENUM('PLANNING', 'IN_PROGRESS', 'TESTING', 'COMPLETED', 'DISPUTED', 'CANCELED')`);
        await queryRunner.query(`ALTER TABLE "projects" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "projects" ALTER COLUMN "status" TYPE "public"."project_status_old" USING "status"::"text"::"public"."project_status_old"`);
        await queryRunner.query(`ALTER TABLE "projects" ALTER COLUMN "status" SET DEFAULT 'PLANNING'`);
        await queryRunner.query(`DROP TYPE "public"."projects_status_enum"`);
        await queryRunner.query(`ALTER TYPE "public"."project_status_old" RENAME TO "project_status"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "currency"`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "currency" character varying DEFAULT 'VND'`);
        await queryRunner.query(`ALTER TABLE "projects" ALTER COLUMN "description" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "title" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "projects" DROP CONSTRAINT "PK_6271df0a7aed1d6c0691ce6ac50"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "projects" ADD CONSTRAINT "projects_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "project_categories" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "project_categories" ADD "name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_categories" DROP CONSTRAINT "PK_03d7af35c2601369d030b3617bc"`);
        await queryRunner.query(`ALTER TABLE "project_categories" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "project_categories" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_categories" ADD CONSTRAINT "project_categories_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "reviews" ALTER COLUMN "weight" SET DEFAULT 1.00`);
        await queryRunner.query(`ALTER TABLE "reviews" ALTER COLUMN "weight" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "reviews" ALTER COLUMN "rating" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP CONSTRAINT "PK_231ae565c273ee700b283f15c1d"`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD CONSTRAINT "reviews_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" DROP CONSTRAINT "PK_c0ad842aac86d1014650bed12c1"`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" ADD CONSTRAINT "saved_freelancers_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`CREATE TYPE "public"."task_status_old" AS ENUM('TODO', 'IN_PROGRESS', 'IN_REVIEW', 'REVISIONS_REQUIRED', 'BLOCKED', 'DONE')`);
        await queryRunner.query(`ALTER TABLE "tasks" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "tasks" ALTER COLUMN "status" TYPE "public"."task_status_old" USING "status"::"text"::"public"."task_status_old"`);
        await queryRunner.query(`ALTER TABLE "tasks" ALTER COLUMN "status" SET DEFAULT 'TODO'`);
        await queryRunner.query(`DROP TYPE "public"."tasks_status_enum"`);
        await queryRunner.query(`ALTER TYPE "public"."task_status_old" RENAME TO "task_status"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD "title" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP CONSTRAINT "PK_8d12ff38fcc62aaba2cab748772"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD CONSTRAINT "tasks_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "social_accounts" DROP COLUMN "email"`);
        await queryRunner.query(`ALTER TABLE "social_accounts" ADD "email" character varying`);
        await queryRunner.query(`ALTER TABLE "social_accounts" DROP COLUMN "provider"`);
        await queryRunner.query(`ALTER TABLE "social_accounts" ADD "provider" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "social_accounts" DROP CONSTRAINT "PK_e9e58d2d8e9fafa20af914d9750"`);
        await queryRunner.query(`ALTER TABLE "social_accounts" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "social_accounts" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "social_accounts" ADD CONSTRAINT "social_accounts_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "transactions" ALTER COLUMN "status" DROP NOT NULL`);
        await queryRunner.query(`CREATE TYPE "public"."transaction_status_old" AS ENUM('PENDING', 'SUCCESS', 'FAILED', 'CANCELED')`);
        await queryRunner.query(`ALTER TABLE "transactions" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "transactions" ALTER COLUMN "status" TYPE "public"."transaction_status_old" USING "status"::"text"::"public"."transaction_status_old"`);
        await queryRunner.query(`ALTER TABLE "transactions" ALTER COLUMN "status" SET DEFAULT 'PENDING'`);
        await queryRunner.query(`DROP TYPE "public"."transactions_status_enum"`);
        await queryRunner.query(`ALTER TYPE "public"."transaction_status_old" RENAME TO "transaction_status"`);
        await queryRunner.query(`CREATE TYPE "public"."transaction_type_old" AS ENUM('DEPOSIT', 'HOLD', 'RELEASE', 'REFUND', 'WITHDRAWAL')`);
        await queryRunner.query(`ALTER TABLE "transactions" ALTER COLUMN "type" TYPE "public"."transaction_type_old" USING "type"::"text"::"public"."transaction_type_old"`);
        await queryRunner.query(`DROP TYPE "public"."transactions_type_enum"`);
        await queryRunner.query(`ALTER TYPE "public"."transaction_type_old" RENAME TO "transaction_type"`);
        await queryRunner.query(`ALTER TABLE "transactions" DROP CONSTRAINT "PK_a219afd8dd77ed80f5a862f1db9"`);
        await queryRunner.query(`ALTER TABLE "transactions" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "transactions" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "transactions" ADD CONSTRAINT "transactions_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP CONSTRAINT "PK_fc2095d09415689b51678b46615"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD CONSTRAINT "trust_score_history_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "user_flags" ALTER COLUMN "description" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_flags" ALTER COLUMN "severity" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "user_flags" ALTER COLUMN "severity" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_flags" DROP COLUMN "type"`);
        await queryRunner.query(`ALTER TABLE "user_flags" ADD "type" character varying`);
        await queryRunner.query(`ALTER TABLE "user_flags" DROP CONSTRAINT "PK_6de618449277fb758cd2f13c1e3"`);
        await queryRunner.query(`ALTER TABLE "user_flags" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "user_flags" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_flags" ADD CONSTRAINT "user_flags_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`CREATE TYPE "public"."user_token_status_old" AS ENUM('PENDING', 'USED', 'REVOKED')`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ALTER COLUMN "status" TYPE "public"."user_token_status_old" USING "status"::"text"::"public"."user_token_status_old"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ALTER COLUMN "status" SET DEFAULT 'PENDING'`);
        await queryRunner.query(`DROP TYPE "public"."user_tokens_status_enum"`);
        await queryRunner.query(`ALTER TYPE "public"."user_token_status_old" RENAME TO "user_token_status"`);
        await queryRunner.query(`CREATE TYPE "public"."user_token_type_old" AS ENUM('EMAIL_VERIFICATION', 'PASSWORD_RESET')`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ALTER COLUMN "type" TYPE "public"."user_token_type_old" USING "type"::"text"::"public"."user_token_type_old"`);
        await queryRunner.query(`DROP TYPE "public"."user_tokens_type_enum"`);
        await queryRunner.query(`ALTER TYPE "public"."user_token_type_old" RENAME TO "user_token_type"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP CONSTRAINT "PK_63764db9d9aaa4af33e07b2f4bf"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD CONSTRAINT "user_tokens_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`CREATE TYPE "public"."user_role_old" AS ENUM('ADMIN', 'STAFF', 'BROKER', 'CLIENT', 'FREELANCER')`);
        await queryRunner.query(`ALTER TABLE "users" ALTER COLUMN "role" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."user_role_old" USING "role"::"text"::"public"."user_role_old"`);
        await queryRunner.query(`ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'CLIENT'`);
        await queryRunner.query(`DROP TYPE "public"."users_role_enum"`);
        await queryRunner.query(`ALTER TYPE "public"."user_role_old" RENAME TO "user_role"`);
        await queryRunner.query(`ALTER TABLE "users" DROP CONSTRAINT "UQ_97672ac88f789774dd47f7c8be3"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "email"`);
        await queryRunner.query(`ALTER TABLE "users" ADD "email" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD CONSTRAINT "users_email_key" UNIQUE ("email")`);
        await queryRunner.query(`ALTER TABLE "users" DROP CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "users" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD CONSTRAINT "users_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "wallets" DROP COLUMN "currency"`);
        await queryRunner.query(`ALTER TABLE "wallets" ADD "currency" character varying DEFAULT 'VND'`);
        await queryRunner.query(`ALTER TABLE "wallets" ALTER COLUMN "balance" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "wallets" DROP CONSTRAINT "PK_8402e5df5a30a229380e83e4f7e"`);
        await queryRunner.query(`ALTER TABLE "wallets" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "wallets" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "wallets" ADD CONSTRAINT "wallets_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "wizard_options" DROP COLUMN "value"`);
        await queryRunner.query(`ALTER TABLE "wizard_options" ADD "value" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "wizard_options" DROP CONSTRAINT "PK_888ae1a4fab441bd429fcdc4452"`);
        await queryRunner.query(`ALTER TABLE "wizard_options" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "wizard_options" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "wizard_options" ADD CONSTRAINT "wizard_options_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ALTER COLUMN "status" DROP NOT NULL`);
        await queryRunner.query(`CREATE TYPE "public"."verification_status_old" AS ENUM('PENDING', 'VERIFIED', 'REJECTED')`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ALTER COLUMN "status" TYPE "public"."verification_status_old" USING "status"::"text"::"public"."verification_status_old"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ALTER COLUMN "status" SET DEFAULT 'PENDING'`);
        await queryRunner.query(`DROP TYPE "public"."verification_documents_status_enum"`);
        await queryRunner.query(`ALTER TYPE "public"."verification_status_old" RENAME TO "verification_status"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP CONSTRAINT "PK_b4dc59d87f87ce5a1bb1d3fe0bf"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD CONSTRAINT "verification_documents_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" DROP CONSTRAINT "UQ_fec5bf63c0e39ebf237b3bbc486"`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" DROP COLUMN "code"`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" ADD "code" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" ADD CONSTRAINT "wizard_questions_code_key" UNIQUE ("code")`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" DROP CONSTRAINT "PK_01980ba9ae3a226aa28c08b2007"`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" ADD CONSTRAINT "wizard_questions_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "project_category_map" DROP CONSTRAINT "PK_20f09ce6ad412dfdf5adc394426"`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP COLUMN "resolvedAt"`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP COLUMN "raisedBy"`);
        await queryRunner.query(`ALTER TABLE "disputes" DROP COLUMN "projectId"`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" DROP COLUMN "releaseTransactionId"`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" DROP COLUMN "holdTransactionId"`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" DROP COLUMN "milestoneId"`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP COLUMN "sortOrder"`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP COLUMN "proofOfWork"`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP COLUMN "dueDate"`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP COLUMN "startDate"`);
        await queryRunner.query(`ALTER TABLE "milestones" DROP COLUMN "projectId"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "afterData"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "beforeData"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "entityId"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "entityType"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "actorId"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "validAccessFrom"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "replacedBySessionId"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "lastUsedAt"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "expiresAt"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "revokedAt"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "isRevoked"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "ipAddress"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "userAgent"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "refreshTokenHash"`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "contracts" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "contracts" DROP COLUMN "createdBy"`);
        await queryRunner.query(`ALTER TABLE "contracts" DROP COLUMN "termsContent"`);
        await queryRunner.query(`ALTER TABLE "contracts" DROP COLUMN "contractUrl"`);
        await queryRunner.query(`ALTER TABLE "contracts" DROP COLUMN "projectId"`);
        await queryRunner.query(`ALTER TABLE "documents" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "documents" DROP COLUMN "fileUrl"`);
        await queryRunner.query(`ALTER TABLE "documents" DROP COLUMN "uploaderId"`);
        await queryRunner.query(`ALTER TABLE "documents" DROP COLUMN "projectId"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "relatedId"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "relatedType"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "readAt"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "isRead"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" DROP COLUMN "signedAt"`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" DROP COLUMN "ipAddress"`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" DROP COLUMN "signatureHash"`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" DROP COLUMN "contractId"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" DROP COLUMN "processedBy"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" DROP COLUMN "processedAt"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" DROP COLUMN "requestedAt"`);
        await queryRunner.query(`ALTER TABLE "payout_requests" DROP COLUMN "walletId"`);
        await queryRunner.query(`ALTER TABLE "platform_settings" DROP COLUMN "updatedBy"`);
        await queryRunner.query(`ALTER TABLE "platform_settings" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "profiles" DROP COLUMN "bankInfo"`);
        await queryRunner.query(`ALTER TABLE "profiles" DROP COLUMN "portfolioLinks"`);
        await queryRunner.query(`ALTER TABLE "profiles" DROP COLUMN "companyName"`);
        await queryRunner.query(`ALTER TABLE "profiles" DROP CONSTRAINT "UQ_315ecd98bd1a42dcf2ec4e2e985"`);
        await queryRunner.query(`ALTER TABLE "profiles" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" DROP COLUMN "valueText"`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" DROP COLUMN "optionId"`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" DROP COLUMN "questionId"`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" DROP COLUMN "requestId"`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP COLUMN "brokerId"`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP COLUMN "techPreferences"`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP COLUMN "intendedTimeline"`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP COLUMN "budgetRange"`);
        await queryRunner.query(`ALTER TABLE "project_requests" DROP COLUMN "clientId"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP COLUMN "coverLetter"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP COLUMN "estimatedDuration"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP COLUMN "proposedBudget"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP COLUMN "brokerId"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP COLUMN "freelancerId"`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" DROP COLUMN "requestId"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "endDate"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "startDate"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "pricingModel"`);
        await queryRunner.query(`DROP TYPE "public"."projects_pricingmodel_enum"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "totalBudget"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "freelancerId"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "brokerId"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "clientId"`);
        await queryRunner.query(`ALTER TABLE "projects" DROP COLUMN "requestId"`);
        await queryRunner.query(`ALTER TABLE "project_categories" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP COLUMN "targetUserId"`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP COLUMN "reviewerId"`);
        await queryRunner.query(`ALTER TABLE "reviews" DROP COLUMN "projectId"`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" DROP COLUMN "freelancerId"`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" DROP COLUMN "clientId"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP COLUMN "sortOrder"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP COLUMN "dueDate"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP COLUMN "assignedTo"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP COLUMN "projectId"`);
        await queryRunner.query(`ALTER TABLE "tasks" DROP COLUMN "milestoneId"`);
        await queryRunner.query(`ALTER TABLE "social_accounts" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "social_accounts" DROP COLUMN "avatarUrl"`);
        await queryRunner.query(`ALTER TABLE "social_accounts" DROP COLUMN "providerId"`);
        await queryRunner.query(`ALTER TABLE "social_accounts" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "transactions" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "transactions" DROP COLUMN "referenceId"`);
        await queryRunner.query(`ALTER TABLE "transactions" DROP COLUMN "referenceType"`);
        await queryRunner.query(`ALTER TABLE "transactions" DROP COLUMN "walletId"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP COLUMN "calculatedAt"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP COLUMN "totalScore"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP COLUMN "verificationScore"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP COLUMN "disputeScore"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP COLUMN "behaviorScore"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP COLUMN "ratingScore"`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "user_flags" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "user_flags" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "lastUsedUserAgent"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "lastUsedIp"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "createdIp"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "usedAt"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "expiresAt"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "useCount"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "maxUses"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "tokenHash"`);
        await queryRunner.query(`ALTER TABLE "user_tokens" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "currentTrustScore"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "isVerified"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "phoneNumber"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "fullName"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "passwordHash"`);
        await queryRunner.query(`ALTER TABLE "wallets" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "wallets" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "wizard_options" DROP COLUMN "sortOrder"`);
        await queryRunner.query(`ALTER TABLE "wizard_options" DROP COLUMN "questionId"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP COLUMN "rejectReason"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP COLUMN "verifiedBy"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP COLUMN "verifiedAt"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP COLUMN "submittedAt"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP COLUMN "documentUrl"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP COLUMN "docType"`);
        await queryRunner.query(`ALTER TABLE "verification_documents" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" DROP COLUMN "sortOrder"`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" DROP COLUMN "isActive"`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" DROP COLUMN "inputType"`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" DROP COLUMN "helpText"`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD "resolved_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD "raised_by" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD "project_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" ADD "release_transaction_id" integer`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" ADD "hold_transaction_id" integer`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" ADD "milestone_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD "sort_order" integer`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD "proof_of_work" character varying`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD "due_date" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD "start_date" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD "project_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "after_data" jsonb`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "before_data" jsonb`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "entity_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "entity_type" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "actor_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "valid_access_from" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "replaced_by_session_id" integer`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "last_used_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "expires_at" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "revoked_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "is_revoked" boolean DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "ip_address" character varying`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "user_agent" character varying`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "refresh_token_hash" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD "user_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "contracts" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "contracts" ADD "created_by" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "contracts" ADD "terms_content" text`);
        await queryRunner.query(`ALTER TABLE "contracts" ADD "contract_url" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "contracts" ADD "project_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "documents" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "documents" ADD "file_url" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "documents" ADD "uploader_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "documents" ADD "project_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "related_id" integer`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "related_type" character varying`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "read_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "is_read" boolean DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "user_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" ADD "signed_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" ADD "ip_address" character varying`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" ADD "signature_hash" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" ADD "user_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" ADD "contract_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ADD "processed_by" integer`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ADD "processed_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ADD "requested_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ADD "wallet_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "platform_settings" ADD "updated_by" integer`);
        await queryRunner.query(`ALTER TABLE "platform_settings" ADD "updated_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "profiles" ADD "bank_info" jsonb`);
        await queryRunner.query(`ALTER TABLE "profiles" ADD "portfolio_links" jsonb`);
        await queryRunner.query(`ALTER TABLE "profiles" ADD "company_name" character varying`);
        await queryRunner.query(`ALTER TABLE "profiles" ADD "user_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "profiles" ADD CONSTRAINT "profiles_user_id_key" UNIQUE ("user_id")`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" ADD "value_text" text`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" ADD "option_id" integer`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" ADD "question_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" ADD "request_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD "broker_id" integer`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD "tech_preferences" character varying`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD "intended_timeline" character varying`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD "budget_range" character varying`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD "client_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD "cover_letter" text`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD "estimated_duration" character varying`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD "proposed_budget" numeric(15,2)`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD "broker_id" integer`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD "freelancer_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD "request_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "updated_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "end_date" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "start_date" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "pricing_model" character varying`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "total_budget" numeric(15,2)`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "freelancer_id" integer`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "broker_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "client_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "projects" ADD "request_id" integer`);
        await queryRunner.query(`ALTER TABLE "project_categories" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD "target_user_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD "reviewer_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD "project_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" ADD "freelancer_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" ADD "client_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD "sort_order" integer`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD "due_date" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD "assigned_to" integer`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD "project_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD "milestone_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "social_accounts" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "social_accounts" ADD "avatar_url" character varying`);
        await queryRunner.query(`ALTER TABLE "social_accounts" ADD "provider_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "social_accounts" ADD "user_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "transactions" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "transactions" ADD "reference_id" integer`);
        await queryRunner.query(`ALTER TABLE "transactions" ADD "reference_type" character varying`);
        await queryRunner.query(`ALTER TABLE "transactions" ADD "wallet_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD "calculated_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD "total_score" numeric(3,2)`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD "verification_score" numeric(3,2)`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD "dispute_score" numeric(3,2)`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD "behavior_score" numeric(3,2)`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD "rating_score" numeric(3,2)`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD "user_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_flags" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "user_flags" ADD "user_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "last_used_user_agent" character varying`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "last_used_ip" character varying`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "created_ip" character varying`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "used_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "expires_at" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "use_count" integer DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "max_uses" integer DEFAULT '1'`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "token_hash" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD "user_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD "updated_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "users" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "users" ADD "current_trust_score" numeric(3,2) DEFAULT 5.00`);
        await queryRunner.query(`ALTER TABLE "users" ADD "is_verified" boolean DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "users" ADD "phone_number" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ADD "full_name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD "password_hash" character varying`);
        await queryRunner.query(`ALTER TABLE "wallets" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "wallets" ADD "user_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "wallets" ADD CONSTRAINT "wallets_user_id_key" UNIQUE ("user_id")`);
        await queryRunner.query(`ALTER TABLE "wizard_options" ADD "sort_order" integer`);
        await queryRunner.query(`ALTER TABLE "wizard_options" ADD "question_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD "reject_reason" text`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD "verified_by" integer`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD "verified_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD "submitted_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD "document_url" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD "doc_type" character varying`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD "user_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" ADD "created_at" TIMESTAMP DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" ADD "sort_order" integer`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" ADD "is_active" boolean DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" ADD "input_type" character varying`);
        await queryRunner.query(`ALTER TABLE "wizard_questions" ADD "help_text" text`);
        await queryRunner.query(`COMMENT ON TABLE "auth_sessions" IS 'Lu phin ng nhp di hn dng refresh token'`);
        await queryRunner.query(`COMMENT ON TABLE "profiles" IS 'Thng tin m rng cho h s user (CV, cng ty, k nng)'`);
        await queryRunner.query(`COMMENT ON TABLE "project_requests" IS 'Ni Client nhp yu cu ban u (Wizard Input)'`);
        await queryRunner.query(`COMMENT ON TABLE "project_request_proposals" IS ' xut ca Freelancer cho mt project_request'`);
        await queryRunner.query(`COMMENT ON TABLE "saved_freelancers" IS 'Client lu danh sch Freelancer a thch'`);
        await queryRunner.query(`COMMENT ON TABLE "social_accounts" IS 'Lin kt ng nhp social (Google, GitHub, ...)'`);
        await queryRunner.query(`COMMENT ON TABLE "user_tokens" IS 'Token gi qua email: xc thc ti khon, qun mt khu'`);
        await queryRunner.query(`COMMENT ON TABLE "users" IS 'Ti khon ngi dng chung cho Client/Broker/Freelancer/Admin'`);
        await queryRunner.query(`ALTER TABLE "project_category_map" ADD CONSTRAINT "project_category_map_project_id_category_id_key" UNIQUE ("project_id", "category_id")`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD CONSTRAINT "project_request_proposals_request_id_freelancer_id_key" UNIQUE ("request_id", "freelancer_id")`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD CONSTRAINT "reviews_project_id_reviewer_id_target_user_id_key" UNIQUE ("project_id", "reviewer_id", "target_user_id")`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" ADD CONSTRAINT "saved_freelancers_client_id_freelancer_id_key" UNIQUE ("client_id", "freelancer_id")`);
        await queryRunner.query(`ALTER TABLE "project_category_map" ADD CONSTRAINT "project_category_map_project_id_fkey" FOREIGN KEY ("project_id") REFERENCES "projects"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "project_category_map" ADD CONSTRAINT "project_category_map_category_id_fkey" FOREIGN KEY ("category_id") REFERENCES "project_categories"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD CONSTRAINT "disputes_raised_by_fkey" FOREIGN KEY ("raised_by") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD CONSTRAINT "disputes_project_id_fkey" FOREIGN KEY ("project_id") REFERENCES "projects"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "disputes" ADD CONSTRAINT "disputes_against_fkey" FOREIGN KEY ("against") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" ADD CONSTRAINT "milestone_payments_release_transaction_id_fkey" FOREIGN KEY ("release_transaction_id") REFERENCES "transactions"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" ADD CONSTRAINT "milestone_payments_milestone_id_fkey" FOREIGN KEY ("milestone_id") REFERENCES "milestones"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "milestone_payments" ADD CONSTRAINT "milestone_payments_hold_transaction_id_fkey" FOREIGN KEY ("hold_transaction_id") REFERENCES "transactions"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "milestones" ADD CONSTRAINT "milestones_project_id_fkey" FOREIGN KEY ("project_id") REFERENCES "projects"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD CONSTRAINT "audit_logs_actor_id_fkey" FOREIGN KEY ("actor_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD CONSTRAINT "auth_sessions_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "auth_sessions" ADD CONSTRAINT "auth_sessions_replaced_by_session_id_fkey" FOREIGN KEY ("replaced_by_session_id") REFERENCES "auth_sessions"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "contracts" ADD CONSTRAINT "contracts_project_id_fkey" FOREIGN KEY ("project_id") REFERENCES "projects"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "contracts" ADD CONSTRAINT "contracts_created_by_fkey" FOREIGN KEY ("created_by") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "documents" ADD CONSTRAINT "documents_uploader_id_fkey" FOREIGN KEY ("uploader_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "documents" ADD CONSTRAINT "documents_project_id_fkey" FOREIGN KEY ("project_id") REFERENCES "projects"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD CONSTRAINT "notifications_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" ADD CONSTRAINT "digital_signatures_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "digital_signatures" ADD CONSTRAINT "digital_signatures_contract_id_fkey" FOREIGN KEY ("contract_id") REFERENCES "contracts"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ADD CONSTRAINT "payout_requests_wallet_id_fkey" FOREIGN KEY ("wallet_id") REFERENCES "wallets"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "payout_requests" ADD CONSTRAINT "payout_requests_processed_by_fkey" FOREIGN KEY ("processed_by") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "platform_settings" ADD CONSTRAINT "platform_settings_updated_by_fkey" FOREIGN KEY ("updated_by") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "profiles" ADD CONSTRAINT "profiles_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" ADD CONSTRAINT "project_request_answers_request_id_fkey" FOREIGN KEY ("request_id") REFERENCES "project_requests"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" ADD CONSTRAINT "project_request_answers_question_id_fkey" FOREIGN KEY ("question_id") REFERENCES "wizard_questions"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "project_request_answers" ADD CONSTRAINT "project_request_answers_option_id_fkey" FOREIGN KEY ("option_id") REFERENCES "wizard_options"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD CONSTRAINT "project_requests_client_id_fkey" FOREIGN KEY ("client_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "project_requests" ADD CONSTRAINT "project_requests_broker_id_fkey" FOREIGN KEY ("broker_id") REFERENCES "users"("id") ON DELETE SET NULL ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD CONSTRAINT "project_request_proposals_request_id_fkey" FOREIGN KEY ("request_id") REFERENCES "project_requests"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD CONSTRAINT "project_request_proposals_freelancer_id_fkey" FOREIGN KEY ("freelancer_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "project_request_proposals" ADD CONSTRAINT "project_request_proposals_broker_id_fkey" FOREIGN KEY ("broker_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "projects" ADD CONSTRAINT "projects_request_id_fkey" FOREIGN KEY ("request_id") REFERENCES "project_requests"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "projects" ADD CONSTRAINT "projects_freelancer_id_fkey" FOREIGN KEY ("freelancer_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "projects" ADD CONSTRAINT "projects_client_id_fkey" FOREIGN KEY ("client_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "projects" ADD CONSTRAINT "projects_broker_id_fkey" FOREIGN KEY ("broker_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD CONSTRAINT "reviews_target_user_id_fkey" FOREIGN KEY ("target_user_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD CONSTRAINT "reviews_reviewer_id_fkey" FOREIGN KEY ("reviewer_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "reviews" ADD CONSTRAINT "reviews_project_id_fkey" FOREIGN KEY ("project_id") REFERENCES "projects"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" ADD CONSTRAINT "saved_freelancers_freelancer_id_fkey" FOREIGN KEY ("freelancer_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "saved_freelancers" ADD CONSTRAINT "saved_freelancers_client_id_fkey" FOREIGN KEY ("client_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD CONSTRAINT "tasks_project_id_fkey" FOREIGN KEY ("project_id") REFERENCES "projects"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD CONSTRAINT "tasks_milestone_id_fkey" FOREIGN KEY ("milestone_id") REFERENCES "milestones"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "tasks" ADD CONSTRAINT "tasks_assigned_to_fkey" FOREIGN KEY ("assigned_to") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "social_accounts" ADD CONSTRAINT "social_accounts_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactions" ADD CONSTRAINT "transactions_wallet_id_fkey" FOREIGN KEY ("wallet_id") REFERENCES "wallets"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "trust_score_history" ADD CONSTRAINT "trust_score_history_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "user_flags" ADD CONSTRAINT "user_flags_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "user_tokens" ADD CONSTRAINT "user_tokens_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "wallets" ADD CONSTRAINT "wallets_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "wizard_options" ADD CONSTRAINT "wizard_options_question_id_fkey" FOREIGN KEY ("question_id") REFERENCES "wizard_questions"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD CONSTRAINT "verification_documents_verified_by_fkey" FOREIGN KEY ("verified_by") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "verification_documents" ADD CONSTRAINT "verification_documents_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
    }

}
